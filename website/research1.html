<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      // Apply saved theme ASAP to avoid flash
      (function () {
        try {
          var saved = localStorage.getItem('theme'); // 'dark' | 'light' | null
          if (saved === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
          } // default = light (your current style)
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="style.css" />
    <title>Pru Yontrarak Portfolio - Research 1</title>

    <style>
      /* Slightly larger margins for research pages only */
      .section__work {
        width: 90vw;
        max-width: 1200px;
        padding: calc(var(--nav-height) + 1rem) 1rem 2rem 1rem;
        margin: 0 auto;
      }
      .note { background: transparent; border: 1px solid rgba(0,0,0,.1); padding: .75rem 1rem; border-radius: 10px; color: #1a1a1a; }
      :root { --text:#222; --muted:#555; --line: rgba(0,0,0,.1); }
      .kpis { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: .75rem; margin: .5rem 0 1rem; }
      .kpi { border: 1px solid var(--line); border-radius: 10px; padding: .65rem .8rem; font-size: .95rem; color: #555; }
      .kpi strong { display:block; color: var(--text); }
      a.kpi { text-decoration: none; display: block; color: inherit; transition: background-color 0.2s, border-color 0.2s; }
      a.kpi:hover { background-color: rgba(0,0,0,0.02); border-color: rgba(0,0,0,0.15); cursor: pointer; }
    </style>
  </head>
  <body>
    <nav>
      <div class="nav__content">
        <div class="logo" id="home-button"><a href="index.html#top">êîå’û. .’ûê¶Ø<span class="name"> Pru Yontrarak</span></a></div>
        <label for="check" class="checkbox" aria-label="Toggle navigation">
          <span class="hamburger" aria-hidden="true">
            <span></span>
            <span></span>
            <span></span>
          </span>
        </label>
        <input type="checkbox" name="check" id="check" />
        <ul>
          <li><a href="index.html#timeline" id="timeline-button">timeline</a></li>
          <li><a href="index.html#research" id="research-button">cs projects</a></li>
          <li><a href="index.html#work" id="work-button" >case studies</a></li>
        </ul>
        <button id="theme-toggle" class="theme-toggle" type="button" aria-pressed="false" aria-label="Toggle dark mode">
          <span class="tt-icon" data-sun="‚òÄÔ∏é" data-moon="üåô">üåô</span>
        </button>

      </div>
    </nav>

    

    <div class="section__work">

        <h1 class="title">Trajectory Optimization in PDDP</h1>
        <p class="description note">
          <strong>Position</strong>: Graduate Researcher under <a href="https://brianplancher.com/">Professor Brian Plancher</a>
          <br>
          <strong>Institute</strong>: <a href="https://a2r-lab.org/">The Accessible and Accelerated Robotics Lab (A¬≤R Lab)</a>
          <br>
          <strong>Duration</strong>: January 2025 - Present 
          <br>
          <strong>Tools</strong>: Python, CUDA, CursorAI
          <br> 
        </p>

        <h1>Summary</h1>
        <div class="kpis">
          <div class="kpi">
            <strong>System integration</strong>
            Extended the lab's PDDP codebase with a modular <em>Augmented Lagrangian</em> constraint-handling component in Python/CUDA.
          </div>
          <div class="kpi">
            <strong>Maintainability</strong>
            Refactored experiment scripts and added documentation for reuse.
          </div>
        </div>
        
        
        <h1 class="subtitle">Background</h1>
        <p class="description">
            Robotic trajectory optimizers often fail under hard constraints (e.g., joint limits, obstacles). This project strengthens Parallel DDP (PDDP) by evaluating constraint-handling methods to improve feasibility, stability, and speed on CPU/GPU.
          </p>

        <h1 class="subtitle">Methods</h1>
        <ul class="methods">
            <li><strong>Unconstrained (Baseline):</strong> Standard PDDP backward/forward passes with adaptive LM-style regularization; no explicit constraint terms.</li>
            <li><strong>Log Barrier:</strong> Adds barrier terms to the cost (e.g., ‚àíŒº&nbsp;‚àëlog(slack)) to discourage constraint violation; uses a decreasing barrier schedule and safeguarded step sizes.</li>
            <li><strong>Augmented Lagrangian (AL):</strong> Penalty + multipliers for state/path constraints with conservative Œº updates; enforces feasibility via violation metrics and PD-checked <code>Q<sub>uu</sub></code>.</li>
            <li><strong>Interior-Point (IP):</strong> Primal-dual formulation with slack variables; solves damped/centered subproblems to reduce KKT residuals while maintaining strict feasibility.</li>
            <li><strong>Quadratic Programming (QP):</strong> Local QP subproblems from linearized dynamics + quadratic cost; applies explicit state/box/linear constraints via batched QP solves for control updates.</li>
          </ul>

        <h1 class="subtitle">Augmented Lagrangian Constraint-Handling Method</h1>
        <ul class="methods">
            <li>Developed and implemented the Augmented Lagrangian constraint-handling method within PDDP in both Python and CUDA, combining penalty and multiplier updates to enforce state feasibility.</li>
            <li>Designed a Œº-update rule that increased only after consecutive violations and decreased once constraints were satisfied, improving numerical stability and avoiding oscillation.</li>
            <li>Documented the implementation and benchmark results for future lab use in extending PDDP to higher-dimensional robotic systems.</li>
        </ul>
          

        <h1 class="subtitle">Augmented Lagrangian Method Python Results</h1>
        <p class="description">We are able to see that the Augmented Lagrangian method converges to the solution while staying within the soft constraints set.</p>
      <div style="display:flex; flex-wrap:nowrap; gap:.5rem; margin:.5rem 0; align-items:flex-start;">
        <img src="assets/research1/position.png" class="img-fluid" style="flex:0 0 33.333%; width:33.333%;" alt="Position plot" />
        <img src="assets/research1/velocity.png" class="img-fluid" style="flex:0 0 33.333%; width:33.333%;" alt="Velocity plot" />
        <img src="assets/research1/control.png" class="img-fluid" style="flex:0 0 33.333%; width:33.333%;" alt="Control plot" />
      </div>


        <h1 class="subtitle">Next Steps</h1>
        <ul class="methods">
          <li>GPU profiling and kernel optimizations for constraint projection and residual evaluation.</li>
          <li>Batched experiments and comparisons for all constraint-handling methods.</li>
          <li>Unit tests for constraint satisfaction and ensure close enough values between CPU and GPU.</li>
        </ul>

    </div>

    
    <footer>
      <div class="footer__content">
        <div>¬© Pru Yontrarak</div>
        <div class="footer__links">
          <a href="https://www.linkedin.com/in/pruyontrarak" target="_blank" rel="noopener noreferrer">LinkedIn</a>
          <a href="https://github.com/pruyontrarakk" target="_blank" rel="noopener noreferrer">GitHub</a>
          <a href="mailto:ppy2104@columbia.edu">Email</a>
        </div>
      </div>
    </footer>
  <script>
    (function(){
      var link = document.getElementById('research-button');
      if (link) link.classList.add('active');
    })();
  </script>
  <script>
  (function () {
    var root = document.documentElement;
    var btn = document.getElementById('theme-toggle');
    if (!btn) return;

    function isDark() { return root.getAttribute('data-theme') === 'dark'; }
    function setTheme(next) {
      if (next === 'dark') root.setAttribute('data-theme', 'dark');
      else root.removeAttribute('data-theme'); // back to light defaults
      try { localStorage.setItem('theme', next); } catch (e) {}
      // update aria + icon
      btn.setAttribute('aria-pressed', String(next === 'dark'));
      var icon = btn.querySelector('.tt-icon');
      if (icon) icon.textContent = next === 'dark' ? icon.dataset.sun : icon.dataset.moon;
    }

    // Init from storage (head script already applied attribute; just sync UI)
    setTheme(localStorage.getItem('theme') === 'dark' ? 'dark' : 'light');

    btn.addEventListener('click', function () {
      setTheme(isDark() ? 'light' : 'dark');
    });
  })();
</script>

  </body>
  </html>

